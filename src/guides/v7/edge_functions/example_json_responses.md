---
title: JSON Responses
---

Edge functions can be used to generate JSON responses for a request. This can be useful for generating dynamic content, such as a list of products or a user profile.

## Basic JSON Response {/* basic-json-response */}

A basic JSON response can be generated by serializing a JavaScript object to a JSON string and returning it as the response body. 

### Router Configuration {/* router-configuration-basic-json-response */}

```js filename="routes.js"
import {Router, edgioRoutes} from '@edgio/core';

export default new Router()
  .use(edgioRoutes)

  .match('/some/path', {
    edge_function: './edge-functions/main.js',
  });
```

### Edge Function {/* edge-function-basic-json-response */}

```js filename="edge-functions/main.js"
export async function handleHttpRequest(request, context) {
  const data = {
    message: 'Salutations from Edgio Functions!',
    description: 'This is a sample JSON response.',
    awesome: true,
    powerLevel: 9001,
  };

  const content = JSON.stringify(data);

  const response = new Response(content, {
    headers: {
      'content-type': 'application/json; charset=utf-8',
      'x-edge-power': '9001',
    },
  });

  return response;
}
```

## Geolocation Data {/* geolocation-data */}

Edgio Functions provides geolocation data for each request. This data can be used to customize the response based on the client's location.

### Router Configuration {/* router-configuration-geo-location-data */}

```js filename="routes.js"
import {Router, edgioRoutes} from '@edgio/core';

export default new Router()
  .use(edgioRoutes)

  .match('/some/path', {
    edge_function: './edge-functions/main.js',
  })
```

### Edge Function {/* edge-function-geo-location-data */}

```js filename="edge-functions/main.js"
export async function handleHttpRequest(request, context) {
  // Forward the incoming request to the defined origin server.
  const response = await fetch(request.url, {
    edgio: {
      origin: 'web',
    },
  });

  // Parse the response body as JSON
  const body = await response.json();

  // Add the customer's postal_code to the json response
  body.postal_code = context.geo.postal_code;

  // Return the response and end the edge function.
  // Note: Since the original response body is read-only,
  // we must create a new response with the updated body.
  const jsonBody = JSON.stringify(body);

  return new Response(jsonBody, response);
}
```
