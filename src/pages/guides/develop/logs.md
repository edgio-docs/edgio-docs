---
title: Logs
---

{{ PRODUCT }} provides the following types of log data:

- [Build logs](#build-logs) capture the build output from your {{ PRODUCT }} deployments.
- [Server logs](#server-logs) captures console messages defined within your application and data logged by Deep Request Inspection.
- [Access logs](#access-logs) describes requests served by {{ PRODUCT }}.

## Build Logs {/*build-logs*/}

{{ PRODUCT }} captures deployment information and the build output whenever you run the `{{ FULL_CLI_NAME }} deploy` command. You may view this log data from within the {{ PORTAL }}  either in real time or after the deployment has completed by loading the desired deployment and then scrolling down to the `DEPLOYMENT` tab.

![build](/images/logs/build.png)

## Serverless Compute Console Logs (Server Logs) {/*server-logs*/}

Serverless Compute supports the ability to log console messages. Console messages are defined within your application using methods, such as `console.log()`, `console.warn()`, and `console.error()`. 

[Learn more about the console object.](https://developer.mozilla.org/en-US/docs/Web/API/console) 

You may view these console messages in real time or as log data.

-   **Real Time:** From within the {{ PORTAL }}, load the desired deployment and then click on the `SERVER` tab. Focus on specific data by limiting the output to your IP address or through a regular expression. 
-   **Log Data:** Retrieve log data from an AWS S3 bucket.

    <Callout type="info">

      Access to log data requires an Enterprise account. {{ ACCOUNT_UPGRADE }}

    </Callout>

    - Availability for this log data is only guaranteed for 2 hours. 
    - Use the following environment-specific data, which is available from the desired environment's **Logs** tab, to access log data:
        - Base AWS S3 bucket URL (Server Logs)
        - Key ID
        - Secret access key

![server](/images/logs/server.png)

[View log field definitions.](#serverless-compute-console-and-dri-log-fields)

### Deep Request Inspection (DRI) {/*deep-request-inspection*/}

<Video src="https://www.youtube.com/watch?v=M0KPpX89nO4"/>

<Callout type="info">

  Deep Request Inspection (DRI) requires enablement for each desired environment.

</Callout>

Use DRI to view the headers and body for:
-   Every request served through {{ PRODUCT }} Serverless Compute.
-   Each upstream API request made by your application.

<Callout type="warning">

  {{ PRODUCT }} automatically scrubs Social Security Numbers and common credit card formats from our log data. However, it is unaware of other personally identifiable information (PII). Any team member that has been assigned the `Admin` role will have access to this data.

</Callout>

One use case for DRI is to analyze traffic during a deployment by tailing the server logs for that environment.

**To enable Deep Request Inspection**

1.  From within the {{ PORTAL }}, navigate to the desired environment.
2.  Click the **Configuration** tab.
3.  From the banner at the top of the page, click **Edit v#**.
4.  Mark the **Deep Request Inspection is disabled** option.
5.  From the banner at the top of the page, click **Activate**.

### Serverless Compute Console <!-- and DRI --> Log Fields {/*serverless-compute-console-and-dri-log-fields*/}

<Callout type="info">

  Access to log data requires an Enterprise account. {{ ACCOUNT_UPGRADE }}

</Callout>

Log data for Serverless Compute console messages <!-- and DRI --> may contain the following fields:

-   **awsTag:** <a id="awsTag" /> Reserved for future use.
-   **clientIp:** <a id="clientIp" /> Indicates the IP address (IPv4 or IPv6) for the computer that submitted the request.
-   **requestId:** <a id="requestId" /> Indicates the request's unique ID.
-   **fn:** <a id="fn" /> Indicates the function's ID.
-   **level:** <a id="level" /> Indicates the severity of the console message.<!-- or log data type. --> Valid values are:

    -   **60:** Fatal. This severity, which requires immediate attention, typically indicates that your application will stop or become unusable soon. 
    -   **50:** Error. This severity typically indicates that the request was unsuccessful. Errors require investigation and remediation to ensure optimal performance for all users.
    -   **40:** Warn. This severity typically indicates an issue that should be investigated as time allows.
    -   **30:** Info. This severity indicates information describing normal operation within your application.
    -   **20:** Debug. This severity contains more detailed information than Info console messages. 
    -   **10:** Trace. This severity is indicative of detailed application logging or log data generated by an external library used by your application.

-   **rg:** <a id="rg" /> Requires {{ PRODUCT }} {{ PRODUCT_APPLICATIONS }} version 5.0.3 or higher. Indicates the region your serverless code was processed.
-   **time:** <a id="time" /> Indicates the Unix time, in milliseconds, at which the request was submitted.
-   **wi:** Requires {{ PRODUCT }} {{ PRODUCT_APPLICATIONS }} version 5.0.3 or higher. Indicates the unique ID of the Serverless Compute instance that ran your serverless code.

<!--
-   **data:** <a id="data" /> Contains additional information about the request logged by [Deep Request Inspection](#deep-request-inspection).
    -   **headers:** <a id="headers" /> Contains request headers.
    -   **method:** <a id="method" /> Indicates the request's HTTP method (e.g., `GET`, `HEAD`, and `POST`).
    -   **path:** <a id="path" /> Indicates the URL path for the content that was requested, posted, or deleted. This URL, which excludes the query string, is reported as a relative path that starts directly after the hostname.
    -   **protocol:** <a id="protocol" /> Indicates the request's scheme. Valid values are:

        `http: | https:`


level:
    -   **100 - 104:** Indicates log data generated as a result of Deep Request Inspection.

-->

## Access Logs {/*access-logs*/}

<Callout type="info">

  Access to log data requires an Enterprise account. {{ ACCOUNT_UPGRADE }}

</Callout>

Our access log data describes each request served by {{ PRODUCT }}. 
-   Availability for this log data is only guaranteed for 2 hours. 
-   Use the following environment-specific data, which is available from the desired environment's **Logs** tab, to access log data:
    - Base AWS S3 bucket URL
    - Key ID
    - Secret access key

![access](/images/logs/access.png)

### Access Log Fields {/*access-log-fields*/}

An access log file may contain the following fields:

-   **ac (*String*):** <a id="ac" /> Indicates the value for the `Accept-Encoding` request header (e.g., `gzip`). 
-   **asn (*String*):** <a id="asn" /> Indicates the autonomous system number (ASN) (e.g., `15133`) for the autonomous system (AS) from which the request originated. 
-   **be (*String*):** <a id="be" /> Identifies the backend associated with the route that corresponds to this request. The name for this backend is defined within your `{{ CONFIG_FILE }}` file's `backends` structure. 
-   **bip (*String*):** <a id="bip" /> Indicates the IP address of the backend that responded to the request. 
-   **bk (*String*):** <a id="bk" /> Indicates the value associated with the `edgio_bucket` cookie. This cookie reports the random number assigned to a user when A/B Testing has been enabled.  
-   **bld (*String*):** <a id="bld" /> Indicates the application's build number (e.g., `1021`).
-   **bot (*Number*):** <a id="bot" /> Indicates whether the request was generated by a bot. Returns `1` for bot traffic and `0` for all other traffic. 
-   **br (*String*):** <a id="br" /> Indicates the type of browser (e.g., chrome, safari, firefox, and generic) that submitted the request. 
-   **bse:** <a id="bse" /> Reserved for future use.
-   **cc (*String*):** <a id="cc" /> Indicates the code for the country from which the request originated. 
-   **ce (*String*):** <a id="ce" /> Indicates the value for the `Content-Encoding` response header (e.g., `gzip`). 
-   **ckh (*String*):** <a id="ckh" /> Indicates the cache key hash. 
-   **clv (*Number*):** <a id="clv" /> Indicates the level at which the request was served from cache. Returns `0` for a cache miss, `1` for a cache hit on an edge POP (L1), and `2` for a cache hit on a global POP (L2). 
-   **code (*String*):** <a id="code" /> Indicates the HTTP status code for the response. 
-   **cs (*String*):** <a id="cs" /> Indicates whether the response was cached or the reason why it was not cached.  [Learn more.](/guides/performance/caching#why-is-my-response-not-being-cached)
-   **ct (*String*):** <a id="ct" /> Indicates the response's media type (aka content type). 
-   **cv (*String*):** <a id="cv" /> Indicates the version of the {{ PRODUCT }} edge compiler (e.g., `1.7.3`).
-   **cy (*String*):** <a id="cy" /> Indicates the name of the city from which the request originated (e.g., `new york`).
-   **done (*String*):** <a id="done" /> Indicates whether the client was able to complete the request. This field is analogous to Nginx's `499` error code. Returns `1` for completed requests and `0` for uncompleted requests.
-   **ds (*String*):** <a id="ds" /> Indicates the A/B testing destination assigned to this request. Returns `default` if a destination has not been assigned to this request or when you have not configured A/B testing. 
-   **dv (*String*):** <a id="dv" /> Indicates the type of device (e.g., desktop, smartphone, tablet, and mobile) that submitted the request.
-   **eid (*String*):** <a id="eid" /> Indicates the system-defined ID for the {{ PRODUCT }} environment through which the request was processed. 
-   **er (*Number*):** <a id="er" /> Indicates whether we sent a custom response as a result of the [send method](/guides/performance/cdn_as_code#route-execution). Returns `1` for custom responses and `0` for all other responses.
-   **ev (*Number*):** <a id="ev" /> Indicates the version for the {{ PRODUCT }} environment through which the request was processed (e.g., `95`).
-   **h2 (*String*):** <a id="h2" /> Indicates whether the connection between the client and our network is HTTP/2. Returns `1` for HTTP/2 and `0` for HTTP/1.1.
-   **hh (*String*):** <a id="hh" /> Indicates the `Host` header value submitted by the client.  
-   **hrid (*String*):** <a id="hrid" /> If the response is served from cache, this field indicates the unique ID of the request whose response was cached. This value matches the ID reported by the [`{{ HEADER_PREFIX }}-hit-request-id` response header](/guides/performance/response#reserved-response-headers). 
-   **ic (*Number*):** <a id="ic" /> Indicates whether this request was eligible to be cached. This field does not indicate whether the response was actually cached. 
-   **ip (*String*):** <a id="ip" /> Indicates the client's IP address (e.g., `192.0.2.22`).
-   **jwt (*String*):** <a id="jwt" /> Reserved for future use.
-   **lo (*String*):** <a id="lo" /> Indicates the longitude (e.g., `-73.98`) from which the request originated. 
-   **lp (*Number*):** <a id="lp" /> Indicates whether a static loading page was served as a result of Incremental Static (Re)Generation. Returns `1` when a landing page was served and `0` for all other responses.
-   **lt (*String*):** <a id="lt" /> Indicates the latitude (e.g., `40.76`) from which the request originated.
-   **met (*String*):** <a id="met" /> Indicates the request's HTTP method (e.g., `GET`, `HEAD`, and `POST`).
-   **pc (*String*):** <a id="pc" /> Indicates the postal code from which the request originated (e.g., `90405`).
-   **pre (*Number*):** <a id="pre" /> Indicates whether the request was prefetched. Returns `1` for requests that have the `{{ COOKIE_PREFIX }}_prefetch=1` query string parameter and `0` for all other requests.
-   **prl (*Number*):** <a id="prl" /> Indicates whether the request was due to [static prerendering](/guides/performance/static_prerendering). Returns `1` for static prerendering requests and `0` for all other traffic.
-   **prod (*Number*):** <a id="prod" /> Indicates whether the request was directed at the production environment. Returns `1` for the production environment and `0` for all other environments.
-   **psh (*Number*):** <a id="psh" /> Indicates whether this response was sent due to HTTP/2 server push. Returns `1` for a HTTP/2 server push and `0` for client-driven requests.
-   **rfr (*String*):** <a id="rfr" /> Indicates the value for the `Referer` request header. 
-   **rid (*String*):** <a id="rid" /> Indicates the system-defined ID assigned to the request.  
-   **s_rq (*Number*):** <a id="s_rq" /> Indicates the size, in bytes, of the request. 
-   **s_rs (*Number*):** <a id="s_rs" /> Indicates the size, in bytes, of the response. 
-   **sc (*String*):** <a id="sc" /> Indicates the code of the state from which the request originated (e.g., `NY`).
-   **sec (*String*):** <a id="sec" /> Returns `ip_block_list` for requests blocked by IP address and `country_block_list` for requests blocked by country.
-   **sh (*Number*):** <a id="sh" /> Returns `1` for requests that were shielded by a global POP and `0` for all other requests. 
-   **ssl (*Number*):** <a id="ssl" /> Indicates whether the request was served using the HTTPS protocol. Returns `1` for HTTPS requests and `0` for HTTP requests.
-   **stl (*Number*):** <a id="stl" /> Indicates whether a cached response was stale. Returns `1` when the Time-To-Live (TTL) for the cached response has expired and `0` for all other responses. 
-   **t (*String*):** <a id="t" /> Returns the same value as the [xmt access log field](#xmt).
-   **timestamp (*Number*):** <a id="timestamp" /> Indicates the Unix time, in milliseconds, at which our network received the request.  
-   **ua (*String*):** <a id="ua" /> Indicates the user agent that submitted the request.  
-   **url (*String*):** <a id="url" /> Indicates the URL path for the content that was requested, posted, or deleted. This URL, which excludes the query string, is reported as a relative path that starts directly after the hostname. 
-   **uv (*String*):** <a id="uv" /> Indicates the `Vary` response header value as received from the upstream. Although this value may be different from the one sent to the client, it determines how we split the cache. 
-   **v (*String*):** <a id="v" /> Indicates the version of {{ PRODUCT }}  (e.g., `4.19.3`) that processed this request. 
-   **vn (*String*):** <a id="vn" /> Indicates the vendor (e.g., apple, microsoft, android, or generic) of the device that submitted the request.
-   **waf (*String*):** <a id="waf" /> Indicates the state of WAF security: `geo` for geo blocking, `bl` for block list, `dl-<LIST NAME>` for dynamic lists, `wl` for allow list, and `by` for bypass.
-   **wafv (*String*):** <a id="wafv" /> Indicates the WAF version (e.g., `WAF-1,2`) that screened the request.
-   **xff (*String*):** <a id="xff" /> Indicates the value for the `x-forwarded-for` request header.
-   **xmr (*String*):** <a id="xmr" /> Indicates the value for the `{{ HEADER_PREFIX }}-matched-routes` request header. The `{{ HEADER_PREFIX }}-matched-routes` request header identifies all matched routes. 
-   **xms (*String*):** <a id="xms" /> Indicates the value for the `{{ HEADER_PREFIX }}-status` response header (e.g., `eh=200,ed=200,gh=200,gd=200,p=200,w=200`). The `{{ HEADER_PREFIX }}-status` response header indicates the status codes for key [POP components](/guides/performance/response#-t-response-header). 
-   **xmt (*String*):** <a id="xmt" /> Indicates the value for the [{{ HEADER_PREFIX }}-t](/guides/performance/response#-t-response-header) response header (e.g., `eh=4,ect=2,ecc=hit`). The `{{ HEADER_PREFIX }}-t` response header contains time measurements for each Edgio POP component through which a request was routed. 
-   **xut (*String*):** <a id="xut" /> Indicates the value for the `{{ HEADER_PREFIX }}-user-t` response header (e.g., `fetch:/path=123`). The `{{ HEADER_PREFIX }}-user-t` response header contains [performance](/guides/performance) metrics. 
-   **zip (*String*):** <a id="zip" /> Indicates whether the response was compressed. Returns `1` for compressed responses and `0` for uncompressed responses.


## Log Aggregation Tools {/*setting-up-log-aggregation-tools*/}

{{ PRODUCT }} temporarily stores log data within Amazon S3. Use a log aggregation tool to extract log data from AWS S3. Here are a few popular log aggregation tools:

- Sematext | [[Logagent docs]](https://sematext.com/docs/logagent/)
- Sumo Logic | [[S3 ingest docs]](https://help.sumologic.com/03Send-Data/Sources/02Sources-for-Hosted-Collectors/Amazon-Web-Services/AWS-S3-Source)
- AWS Athena | [[docs]](https://aws.amazon.com/blogs/big-data/analyzing-data-in-s3-using-amazon-athena/)
- Splunk | [[S3 ingest docs]](https://docs.splunk.com/Documentation/AddOns/released/AWS/S3)
- Loggly | [[S3 ingest docs]](https://documentation.solarwinds.com/en/Success_Center/loggly/Content/admin/s3-ingestion-auto.htm)
